<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>⌚ Store Of Time</title>
<meta name="description" content="Comparison of Bitcoin, Local Currency, USD, Gold and Silver as a Store of Time." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@alex_kaul"">
<meta name="twitter:site" content="@alex_kaul"">
<meta name="twitter:title" content="⌚ Store Of Time" />
<meta name="twitter:description" content="Comparison of Bitcoin, Local Currency, USD, Gold and Silver as a Store of Time." />
<meta name="twitter:image" content="https://storeoftime.com/assets/og-1200x628.png" />
<meta property="og:title" content="⌚ Store Of Time" />
<meta property="og:description" content="Comparison of Bitcoin, Local Currency, USD, Gold and Silver as a Store of Time." />
<meta property="og:url" content="https://storeoftime.com/" />
<meta property="og:image" content="https://storeoftime.com/assets/og-1200x628.png" />
<style>
  .bitcoin-color {
    color: #FF9900;
  }
  .icon {
    font-size: 128px;
    line-height: 1;
    margin: 0;
  }
  .logo {
    text-align: center;
  }
  .logo > img {
    width: 128px;
  }
  body {
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding:32px;
    background: #ffffff;
  }
  header {
    text-align:center;
    margin: 0 0 24px 0;
  }
  header, header select {
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size:24px;
  }
  header select {
    font-weight:800;
  }
  header h1 {
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size:40px;
    font-weight:800;
    margin: 24px 0 12px 0;
  }
  .sel-version {
    color: #5c6c7c;
    border-color: #5c6c7c;
  }
  .main {
    text-align:center;
  }
  .main, .main select {
    font-size: 24px;
    line-height: 2;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  .main select {
    font-weight:800;
  }
  .main-block {
    margin: 2px 0;
  }
  .inline-block {
    display: inline-block;
  }
  select {
    border:4px solid #5c9e31;
    border-radius: 6px;
    color: #5c9e31;
    cursor:pointer;
    opacity:0.78;
  }
  .sel-curr {
    color: #5c6c7c;
    border-color: #5c6c7c;
  }
  .sel-curr.bitcoin-color {
    color: #FF9900;
    border-color: #FF9900;
  }
  select:hover {
    opacity:1;
  }
  a {
    color:#5c9e31;
    font-weight: bold;
    opacity:0.8;
  }
  a:hover {
    opacity:1;
  }
  .chart {
    margin: 32px 0;
  }

  .notes, .info, .footer {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    width: 100%;
    margin: -12px;
  }

  .notes-block, .info-block, .footer-block {
    flex: 1;
    margin: 12px;
  }

  .info-block-backers a {
    text-decoration: none;
  }
  .info-block-backers img {
    padding-right: .25rem;
    border-radius: 50%;
    vertical-align: middle;
    border-style: none;
  }

  .chart-notes {
    text-align: center;
    margin:0 0 24px;
  }
  .chart-notes .inline-block {
    margin: 0 12px 4px 12px;
  }
  .chart-notes-color {
    display: inline-block;
    width: 32px;
    height: 4px;
    vertical-align: middle;
  }
  .chart-notes-color.has-cpi-data {
    background-color: #5c9e31;
  }
  .chart-notes-color.no-cpi-data {
    background-color: #acbccc;
  }

  .donate {
    margin: 12px 0 0 0;
    display: inline-block;
    background: #FF9900;
    background: -webkit-linear-gradient(top, transparent 0%, rgba(0,0,0,0.2) 100%),
                -webkit-linear-gradient(left, #FF9900 0%, #e28800 50%, #FF9900 100%);
    background: linear-gradient(top bottom, transparent 0%, rgba(0,0,0,0.2) 100%),
                linear-gradient(top right, #FF9900 0%, #e28800 50%, #FF9900 100%);
    background-position: 0 0;
    background-size: 200% 100%;
    border-radius: 4px;
    color: #fff;
    padding: 12px 20px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.75);
    -webkit-transition: all 220ms;
    transition: all 220ms;
    vertical-align: middle;
  }
  .donate:after {
    border-left: 1px solid rgba(255,255,255,0.15);
    content: "\20BF";
    font: 20px "Arial";
    margin-left: 15px;
    display:inline-block;
    padding: 0 0 0 15px;
    box-sizing: border-box;
    -webkit-transition: all 100ms;
    transition: all 100ms;
    vertical-align: middle;
  }
  .donate:hover:after {
    border-left: 1px solid rgba(255,255,255,0.15);
    color: #fff;
  }

  .notes-link {
    font-weight: bold;
    text-decoration: none;
  }
  .notes-link:hover {
    text-decoration: none;
  }

  @media (min-width: 801px) and (max-width: 1200px) {
    .info-block {
      flex-basis: 40%;
    }
  }

  @media (min-width: 801px) {
    .footer-block:last-child {
      text-align: right;
    }
  }

  @media (max-width: 800px) {
    .notes, .info, .footer {
      flex-direction: column;
    }
  }

  @media (max-width: 700px) {
    header, header select {
      font-size: 16px;
    }
    .main, .main select {
      font-size: 16px;
      line-height: 2.5;
    }
  }
  @media (max-width: 600px) {
		body {
			padding:24px 0;
		}
		.chart,
		#chart {
			height:50vh;
		}
	}

  @media (max-width: 400px) {
    header, header select,
    .main, .main select {
      font-size: 14px;
    }
  }
</style>
</head>

<body>
<header>
  <div class="logo"><span class="icon">⌚</span></div>
  <h1>Store of Time</h1>
  <div>
    <span class="inline-block"></span>
    <span class="inline-block">Version:</span>
    <select class="sel-version">
      
        <option value="" selected>Broad Money Supply</option>
      
        <option value="index.html">Consumer Price Index</option>
      
    </select>
  </div>
</header>

<section class="main">
  <div class="main-block">
    <div>
      <span class="inline-block"><b>1 Day of Work</b></span>
      <span class="inline-block">traded for money</span>
    </div>

    <div>
      <span class="inline-block">
        in
        <select class="sel-country">
          
          <option value="AF">Afghanistan</option>
          
          <option value="AL">Albania</option>
          
          <option value="DZ">Algeria</option>
          
          <option value="AO">Angola</option>
          
          <option value="AI">Anguilla</option>
          
          <option value="AG">Antigua and Barbuda</option>
          
          <option value="AR">Argentina</option>
          
          <option value="AM">Armenia</option>
          
          <option value="AW">Aruba</option>
          
          <option value="AU">Australia</option>
          
          <option value="AZ">Azerbaijan</option>
          
          <option value="BS">Bahamas</option>
          
          <option value="BD">Bangladesh</option>
          
          <option value="BB">Barbados</option>
          
          <option value="BY">Belarus</option>
          
          <option value="BZ">Belize</option>
          
          <option value="BJ">Benin</option>
          
          <option value="BT">Bhutan</option>
          
          <option value="BO">Bolivia</option>
          
          <option value="BA">Bosnia and Herzegovina</option>
          
          <option value="BW">Botswana</option>
          
          <option value="BR">Brazil</option>
          
          <option value="BN">Brunei</option>
          
          <option value="BG">Bulgaria</option>
          
          <option value="BF">Burkina Faso</option>
          
          <option value="BI">Burundi</option>
          
          <option value="KH">Cambodia</option>
          
          <option value="CM">Cameroon</option>
          
          <option value="CV">Cape Verde</option>
          
          <option value="CF">Central African Republic</option>
          
          <option value="TD">Chad</option>
          
          <option value="CL">Chile</option>
          
          <option value="CO">Colombia</option>
          
          <option value="CR">Costa Rica</option>
          
          <option value="CI">Cote d`Ivoire</option>
          
          <option value="CZ">Czech Republic</option>
          
          <option value="CD">Democratic Republic of the Congo</option>
          
          <option value="DK">Denmark</option>
          
          <option value="DJ">Djibouti</option>
          
          <option value="DM">Dominica</option>
          
          <option value="DO">Dominican Republic</option>
          
          <option value="EC">Ecuador</option>
          
          <option value="EG">Egypt</option>
          
          <option value="SV">El Salvador</option>
          
          <option value="GQ">Equatorial Guinea</option>
          
          <option value="ER">Eritrea</option>
          
          <option value="FJ">Fiji</option>
          
          <option value="GA">Gabon</option>
          
          <option value="GM">Gambia</option>
          
          <option value="GE">Georgia</option>
          
          <option value="GH">Ghana</option>
          
          <option value="GD">Grenada</option>
          
          <option value="GT">Guatemala</option>
          
          <option value="GN">Guinea</option>
          
          <option value="GW">Guinea-Bissau</option>
          
          <option value="GY">Guyana</option>
          
          <option value="HT">Haiti</option>
          
          <option value="HN">Honduras</option>
          
          <option value="HK">Hong Kong</option>
          
          <option value="HU">Hungary</option>
          
          <option value="IS">Iceland</option>
          
          <option value="ID">Indonesia</option>
          
          <option value="IQ">Iraq</option>
          
          <option value="IL">Israel</option>
          
          <option value="JM">Jamaica</option>
          
          <option value="JP">Japan</option>
          
          <option value="JO">Jordan</option>
          
          <option value="KZ">Kazakhstan</option>
          
          <option value="KE">Kenya</option>
          
          <option value="XK">Kosovo</option>
          
          <option value="KW">Kuwait</option>
          
          <option value="KG">Kyrgyzstan</option>
          
          <option value="LS">Lesotho</option>
          
          <option value="LR">Liberia</option>
          
          <option value="MO">Macao</option>
          
          <option value="MK">Macedonia</option>
          
          <option value="MG">Madagascar</option>
          
          <option value="MW">Malawi</option>
          
          <option value="MY">Malaysia</option>
          
          <option value="MV">Maldives</option>
          
          <option value="ML">Mali</option>
          
          <option value="MR">Mauritania</option>
          
          <option value="MU">Mauritius</option>
          
          <option value="MX">Mexico</option>
          
          <option value="MD">Moldova</option>
          
          <option value="MN">Mongolia</option>
          
          <option value="ME">Montenegro</option>
          
          <option value="MS">Montserrat</option>
          
          <option value="MA">Morocco</option>
          
          <option value="MZ">Mozambique</option>
          
          <option value="MM">Myanmar</option>
          
          <option value="NA">Namibia</option>
          
          <option value="NP">Nepal</option>
          
          <option value="NZ">New Zealand</option>
          
          <option value="NI">Nicaragua</option>
          
          <option value="NE">Niger</option>
          
          <option value="NG">Nigeria</option>
          
          <option value="NO">Norway</option>
          
          <option value="OM">Oman</option>
          
          <option value="PK">Pakistan</option>
          
          <option value="PS">Palestine</option>
          
          <option value="PG">Papua New Guinea</option>
          
          <option value="PY">Paraguay</option>
          
          <option value="PE">Peru</option>
          
          <option value="PH">Philippines</option>
          
          <option value="PL">Poland</option>
          
          <option value="QA">Qatar</option>
          
          <option value="CG">Republic of the Congo</option>
          
          <option value="RO">Romania</option>
          
          <option value="RU">Russia</option>
          
          <option value="RW">Rwanda</option>
          
          <option value="KN">Saint Kitts and Nevis</option>
          
          <option value="LC">Saint Lucia</option>
          
          <option value="VC">Saint Vincent and the Grenadines</option>
          
          <option value="WS">Samoa</option>
          
          <option value="SM">San Marino</option>
          
          <option value="ST">Sao Tome and Principe</option>
          
          <option value="SN">Senegal</option>
          
          <option value="RS">Serbia</option>
          
          <option value="SC">Seychelles</option>
          
          <option value="SL">Sierra Leone</option>
          
          <option value="SB">Solomon Islands</option>
          
          <option value="ZA">South Africa</option>
          
          <option value="KR">South Korea</option>
          
          <option value="SS">South Sudan</option>
          
          <option value="LK">Sri Lanka</option>
          
          <option value="SD">Sudan</option>
          
          <option value="SR">Suriname</option>
          
          <option value="SZ">Swaziland</option>
          
          <option value="SE">Sweden</option>
          
          <option value="TJ">Tajikistan</option>
          
          <option value="TZ">Tanzania</option>
          
          <option value="TH">Thailand</option>
          
          <option value="TL">Timor-Leste</option>
          
          <option value="TG">Togo</option>
          
          <option value="TO">Tonga</option>
          
          <option value="TT">Trinidad and Tobago</option>
          
          <option value="TN">Tunisia</option>
          
          <option value="TR">Turkey</option>
          
          <option value="UG">Uganda</option>
          
          <option value="UA">Ukraine</option>
          
          <option value="AE">United Arab Emirates</option>
          
          <option value="US" selected>United States</option>
          
          <option value="UY">Uruguay</option>
          
          <option value="UZ">Uzbekistan</option>
          
          <option value="VU">Vanuatu</option>
          
          <option value="VE">Venezuela</option>
          
          <option value="ZM">Zambia</option>
          
          <option value="ZW">Zimbabwe</option>
          
        </select>
      </span>

      <span class="inline-block">
        in
        <select class="sel-year">
          
          <option value="2013" selected>2013</option>
          
          <option value="2014">2014</option>
          
          <option value="2015">2015</option>
          
          <option value="2016">2016</option>
          
          <option value="2017">2017</option>
          
          <option value="2018">2018</option>
          
          <option value="2019">2019</option>
          
          <option value="2020">2020</option>
          
          <option value="2021">2021</option>
          
          <option value="2022">2022</option>
          
          <option value="2023">2023</option>
          
          <option value="2024">2024</option>
          
        </select>
      </span>
    </div>

    <div>
      <span class="inline-block">
        and stored in
        <select class="sel-curr bitcoin-color">
          <option value="BTC">Bitcoin</option>
          <option value="local">Local Currency</option>
          <option value="USD">USD</option>
          
            <option value="^IXIC">NASDAQ Composite</option>
          
            <option value="^GSPC">S&amp;P 500</option>
          
            <option value="XAU">Gold</option>
          
            <option value="XAG">Silver</option>
          
        </select>
      </span>
    </div>

    <div>
      <span class="inline-block">
        today has an est. value of
      </span>
      <span class="inline-block">
        <b><span class="thing-now-qty">⏳</span> Days of Work</b> <a href="#notes" class="notes-link">*</a>
      </span>
    </div>
  </div>
</section>

<section class="chart">
	<canvas id="chart" width="500" height="400"></canvas>
</section>

<section class="chart-notes">
  <div>
    <span class="inline-block">
      <span class="chart-notes-color has-cpi-data"></span> Calculated using inflation data
    </span>
    <span class="inline-block">
      <span class="chart-notes-color no-cpi-data"></span> No inflation data available for the period yet
    </span>
  </div>
</section>

<section id="notes" class="notes">
  <div class="notes-block">
    <h2>What is the Store of Time?</h2>
    <p>Everyone trades time for money, which then can be given to another person to get something in return. But when money is stored in a fiat currency for the future use, it loses the purchasing power over time due to the currency inflation. If a currency lost 25% of its initial value, this means 25% loss of time and efforts spent to get that money. 1 day (8 hours) you worked and got paid for, today has a monetary value as if you worked 0.75 days (6 hours).</p>
    <p>On the other side, when money is stored in deflationary Bitcoin, and its purchasing power increased by 400%, this means getting 400% more value for the time traded in the past. 1 day (8 hours) you worked and got paid for, today has a monetary value as if you worked 5 days (40 hours).</p>
    <p>This website compares Bitcoin, Local Currencies, USD, Stock Indexes, Gold and Silver as a Store of Time.</p>
  </div>
  <div class="notes-block">
    <h2>Note on Inflation</h2>
    <p>To adjust data for inflation, the website uses Broad Money Supply and Consumer Price Index (CPI) datasets.</p>
    <h3>Broad Money Supply</h3>
    <p>The broad money supply includes currency in circulation, checking/savings deposits, and various functional cash-equivalents that consumers and businesses hold at commercial banks. "Printing" money by increasing the money supply diminishes the value of the currency, its purchasing power falls and prices rise.</p>
    <h3>Consumer Price Index</h3>
    <p>The CPI measures the monthly change in prices paid by consumers. It is calculated by government statisticians and might be manipulated to report lower values, as lower CPI provides benefits to the governments. That's why the Broad Money Supply version will be more accurate.</p>
  </div>
</section>

<section class="info">
  <div class="info-block info-block-backers">
    <h2>💝 Backers</h2>
    <p>
      <a href="https://mynode.alexkaul.com/gh-backer/top/0/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/0/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/1/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/1/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/2/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/2/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/3/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/3/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/4/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/4/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/5/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/5/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/6/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/6/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/7/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/7/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/8/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/8/avatar/60" alt="Backer"/>
      </a>
      <a href="https://mynode.alexkaul.com/gh-backer/top/9/profile" rel="noopener nofollow" target="_blank">
        <img src="https://mynode.alexkaul.com/gh-backer/top/9/avatar/60" alt="Backer"/>
      </a>
    </p>
    <p>
      Thank you for your support! 🙌
      <br/>
      <a href="https://mynode.alexkaul.com/gh-donate" target="_blank" rel="noopener noreferrer" class="donate">
        Donate
      </a>
    </p>
  </div>
  <div class="info-block">
    <h2>📈 Data</h2>
    <p>Broad Money Supply and Consumer Price Index data is provided by <a href="https://www.imf.org/" target="_blank">International Monetary Fund</a>.</p>
    <p>Exchange Rates data is provided by <a href="https://openexchangerates.org/" target="_blank">Open Exchange Rates</a>.</p>
    <p>Stock Market data is provided by <a href="https://finance.yahoo.com/" target="_blank">Yahoo Finance</a>.</p>
  </div>
  <div class="info-block">
    <h2>🧙 Open Source</h2>
    <p>Found a bug or think the website is missing a feature? It is open source and <a href="https://github.com/alexk111/StoreOfTime.com" target="_blank">available on GitHub</a>, so feel free to create an issue or a pull request.</p>
    <p>Have a price history dataset for something? Make your <a href="https://github.com/alexk111/store-of-something" target="_blank">Store of {Something}</a> website from it.</p>
  </div>
</section>

<hr />

<footer class="footer">
  <div class="footer-block">
    Made with <a href="https://twitter.com/alex_kaul" target="_blank">@alex_kaul</a>’s ⌚ and <a href="https://github.com/alexk111/store-of-something" target="_blank">Store of {Something}</a>.
  </div>
  <div class="footer-block">
    Last update: 2025-03-28
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha256-t9UJPrESBeG2ojKTIcFLPGF7nHi2vEc7f5A2KpH/UBU=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>const countries={"AE":["United Arab Emirates","AED","AE"],"AF":["Afghanistan","AFN","AF"],"AG":["Antigua and Barbuda","XCD","AG"],"AI":["Anguilla","XCD","AI"],"AL":["Albania","ALL","AL"],"AM":["Armenia","AMD","AM"],"AO":["Angola","AOA","AO"],"AR":["Argentina","ARS","AR"],"AU":["Australia","AUD","AU"],"AW":["Aruba","AWG","AW"],"AZ":["Azerbaijan","AZN","AZ"],"BA":["Bosnia and Herzegovina","BAM","BA"],"BB":["Barbados","BBD","BB"],"BD":["Bangladesh","BDT","BD"],"BF":["Burkina Faso","XOF","BF"],"BG":["Bulgaria","BGN","BG"],"BI":["Burundi","BIF","BI"],"BJ":["Benin","XOF","BJ"],"BN":["Brunei","BND","BN"],"BO":["Bolivia","BOB","BO"],"BR":["Brazil","BRL","BR"],"BS":["Bahamas","BSD","BS"],"BT":["Bhutan","BTN","BT"],"BW":["Botswana","BWP","BW"],"BY":["Belarus","BYR","BY"],"BZ":["Belize","BZD","BZ"],"CD":["Democratic Republic of the Congo","CDF","CD"],"CF":["Central African Republic","XAF","CF"],"CG":["Republic of the Congo","XAF","CG"],"CI":["Cote d`Ivoire","XOF","CI"],"CL":["Chile","CLP","CL"],"CM":["Cameroon","XAF","CM"],"CO":["Colombia","COP","CO"],"CR":["Costa Rica","CRC","CR"],"CV":["Cape Verde","CVE","CV"],"CZ":["Czech Republic","CZK","CZ"],"DJ":["Djibouti","DJF","DJ"],"DK":["Denmark","DKK","DK"],"DM":["Dominica","XCD","DM"],"DO":["Dominican Republic","DOP","DO"],"DZ":["Algeria","DZD","DZ"],"EC":["Ecuador","USD","EC"],"EG":["Egypt","EGP","EG"],"ER":["Eritrea","ERN","ER"],"FJ":["Fiji","FJD","FJ"],"GA":["Gabon","XAF","GA"],"GD":["Grenada","XCD","GD"],"GE":["Georgia","GEL","GE"],"GH":["Ghana","GHS","GH"],"GM":["Gambia","GMD","GM"],"GN":["Guinea","GNF","GN"],"GQ":["Equatorial Guinea","XAF","GQ"],"GT":["Guatemala","GTQ","GT"],"GW":["Guinea-Bissau","XOF","GW"],"GY":["Guyana","GYD","GY"],"HK":["Hong Kong","HKD","HK"],"HN":["Honduras","HNL","HN"],"HT":["Haiti","HTG","HT"],"HU":["Hungary","HUF","HU"],"ID":["Indonesia","IDR","ID"],"IL":["Israel","ILS","IL"],"IQ":["Iraq","IQD","IQ"],"IS":["Iceland","ISK","IS"],"JM":["Jamaica","JMD","JM"],"JO":["Jordan","JOD","JO"],"JP":["Japan","JPY","JP"],"KE":["Kenya","KES","KE"],"KG":["Kyrgyzstan","KGS","KG"],"KH":["Cambodia","KHR","KH"],"KN":["Saint Kitts and Nevis","XCD","KN"],"KR":["South Korea","KRW","KR"],"KW":["Kuwait","KWD","KW"],"KZ":["Kazakhstan","KZT","KZ"],"LC":["Saint Lucia","XCD","LC"],"LK":["Sri Lanka","LKR","LK"],"LR":["Liberia","LRD","LR"],"LS":["Lesotho","LSL","LS"],"MA":["Morocco","MAD","MA"],"MD":["Moldova","MDL","MD"],"ME":["Montenegro","EUR","ME"],"MG":["Madagascar","MGA","MG"],"MK":["Macedonia","MKD","MK"],"ML":["Mali","XOF","ML"],"MM":["Myanmar","MMK","MM"],"MN":["Mongolia","MNT","MN"],"MO":["Macao","MOP","MO"],"MR":["Mauritania","MRO","MR"],"MS":["Montserrat","XCD","MS"],"MU":["Mauritius","MUR","MU"],"MV":["Maldives","MVR","MV"],"MW":["Malawi","MWK","MW"],"MX":["Mexico","MXN","MX"],"MY":["Malaysia","MYR","MY"],"MZ":["Mozambique","MZN","MZ"],"NA":["Namibia","NAD","NA"],"NE":["Niger","XOF","NE"],"NG":["Nigeria","NGN","NG"],"NI":["Nicaragua","NIO","NI"],"NO":["Norway","NOK","NO"],"NP":["Nepal","NPR","NP"],"NZ":["New Zealand","NZD","NZ"],"OM":["Oman","OMR","OM"],"PE":["Peru","PEN","PE"],"PG":["Papua New Guinea","PGK","PG"],"PH":["Philippines","PHP","PH"],"PK":["Pakistan","PKR","PK"],"PL":["Poland","PLN","PL"],"PS":["Palestine","ILS","PS"],"PY":["Paraguay","PYG","PY"],"QA":["Qatar","QAR","QA"],"RO":["Romania","RON","RO"],"RS":["Serbia","RSD","RS"],"RU":["Russia","RUB","RU"],"RW":["Rwanda","RWF","RW"],"SB":["Solomon Islands","SBD","SB"],"SC":["Seychelles","SCR","SC"],"SD":["Sudan","SDG","SD"],"SE":["Sweden","SEK","SE"],"SL":["Sierra Leone","SLL","SL"],"SM":["San Marino","EUR","SM"],"SN":["Senegal","XOF","SN"],"SR":["Suriname","SRD","SR"],"SS":["South Sudan","SSP","SS"],"ST":["Sao Tome and Principe","STD","ST"],"SV":["El Salvador","USD","SV"],"SZ":["Swaziland","SZL","SZ"],"TD":["Chad","XAF","TD"],"TG":["Togo","XOF","TG"],"TH":["Thailand","THB","TH"],"TJ":["Tajikistan","TJS","TJ"],"TL":["Timor-Leste","USD","TL"],"TN":["Tunisia","TND","TN"],"TO":["Tonga","TOP","TO"],"TR":["Turkey","TRY","TR"],"TT":["Trinidad and Tobago","TTD","TT"],"TZ":["Tanzania","TZS","TZ"],"UA":["Ukraine","UAH","UA"],"UG":["Uganda","UGX","UG"],"US":["United States","USD","US"],"UY":["Uruguay","UYU","UY"],"UZ":["Uzbekistan","UZS","UZ"],"VC":["Saint Vincent and the Grenadines","XCD","VC"],"VE":["Venezuela","VEF","VE"],"VU":["Vanuatu","VUV","VU"],"WS":["Samoa","WST","WS"],"XK":["Kosovo","EUR","XK"],"ZA":["South Africa","ZAR","ZA"],"ZM":["Zambia","ZMW","ZM"],"ZW":["Zimbabwe","ZWL","ZW"]};</script>
<script>const preloadedData={}; preloadedData["US"]={"BTC":[["2013-06-01",111533.37161964062,1],["2013-09-01",104567.68507205439,1],["2013-12-01",15681.42925151438,1],["2014-03-01",26525.20518337966,1],["2014-06-01",23549.584758174846,1],["2014-09-01",32244.242147908368,1],["2014-12-01",41401.17219786538,1],["2015-03-01",61468.26331001091,1],["2015-06-01",70830.27487972712,1],["2015-09-01",70238.86844875399,1],["2015-12-01",44604.66834521674,1],["2016-03-01",38105.96175876896,1],["2016-06-01",30711.315890934224,1],["2016-09-01",29064.39513427932,1],["2016-12-01",22342.906658711094,1],["2017-03-01",14071.171449840562,1],["2017-06-01",7005.231612373569,1],["2017-09-01",3527.048848089127,1],["2017-12-01",1622.6981870683576,1],["2018-03-01",1635.9639326722054,1],["2018-06-01",2367.1410428125773,1],["2018-09-01",2487.4021556809485,1],["2018-12-01",4410.4193508830385,1],["2019-03-01",4860.380885539469,1],["2019-06-01",2211.152741654696,1],["2019-09-01",1977.7585087320024,1],["2019-12-01",2679.8800096197906,1],["2020-03-01",2554.8090679642737,1],["2020-06-01",2240.866830777899,1],["2020-09-01",1916.2486745290832,1],["2020-12-01",1237.2166461139145,1],["2021-03-01",511.6579628766382,1],["2021-06-01",702.3413611994038,1],["2021-09-01",545.4202778003148,1],["2021-12-01",476.2086862614494,1],["2022-03-01",613.1848598389582,1],["2022-06-01",900.2417862975024,1],["2022-09-01",1330.9545253482897,1],["2022-12-01",1590.7148492080137,1],["2023-03-01",1152.8369686903309,1],["2023-06-01",1015.5817227171781,1],["2023-09-01",1054.3350984295203,1],["2023-12-01",709.9406222520053,1],["2024-01-01",621.4752934519644,0],["2024-02-01",637.8794915003323,0],["2024-03-01",440.098017790448,0],["2024-04-01",394.3069665291809,0],["2024-05-01",471.51193903093315,0],["2024-06-01",405.7581916936393,0],["2024-07-01",437.2844469284955,0],["2024-08-01",420.68844572926884,0],["2024-09-01",479.4458296519714,0],["2024-10-01",451.73368174409893,0],["2024-11-01",395.4829012050906,0],["2024-12-01",282.4735289196427,0],["2025-01-01",291.12140539580463,0],["2025-02-01",272.9875441195278,0],["2025-03-01",319.4085505718317,0],["2025-03-28",322.4537690787326,0]],"local":[["2013-06-01",14304651.9968758,1],["2013-09-01",14672644.8911285,1],["2013-12-01",14933186.9844705,1],["2014-03-01",15020096.5827943,1],["2014-06-01",15076286.5601113,1],["2014-09-01",15307309.179502,1],["2014-12-01",15706487.0727,1],["2015-03-01",15883227.0270061,1],["2015-06-01",15822342.8931501,1],["2015-09-01",15963412.5709431,1],["2015-12-01",16200148.206841,1],["2016-03-01",16469968.2604812,1],["2016-06-01",16444834.7659689,1],["2016-09-01",16614661.4753922,1],["2016-12-01",16823761.8569604,1],["2017-03-01",17270027.1500034,1],["2017-06-01",17173579.6019882,1],["2017-09-01",17446559.0069234,1],["2017-12-01",17631631.156299,1],["2018-03-01",17822397.0599304,1],["2018-06-01",17799419.7615534,1],["2018-09-01",17893224.8426843,1],["2018-12-01",18342259.9489118,1],["2019-03-01",18606548.6432694,1],["2019-06-01",18909549.0778725,1],["2019-09-01",19315207.0378833,1],["2019-12-01",19881523.881838,1],["2020-03-01",21721667.7267656,1],["2020-06-01",22846385.8700857,1],["2020-09-01",22844767.9571306,1],["2020-12-01",23301047.8440034,1],["2021-03-01",25399439.264,1],["2021-06-01",25721652.9944058,1],["2021-09-01",26602658.0208307,1],["2021-12-01",27228831.6998114,1],["2022-03-01",27224733.910236,1],["2022-06-01",26838455.8049852,1],["2022-09-01",26785755.7650569,1],["2022-12-01",26999346.4037784,1],["2023-03-01",27259706.3170672,1],["2023-06-01",27239455.5303776,1],["2023-09-01",27197032.6383584,1],["2023-12-01",27478961.4410834,1],["2024-01-01",27478961.4410834,0],["2024-02-01",27478961.4410834,0],["2024-03-01",27478961.4410834,0],["2024-04-01",27478961.4410834,0],["2024-05-01",27478961.4410834,0],["2024-06-01",27478961.4410834,0],["2024-07-01",27478961.4410834,0],["2024-08-01",27478961.4410834,0],["2024-09-01",27478961.4410834,0],["2024-10-01",27478961.4410834,0],["2024-11-01",27478961.4410834,0],["2024-12-01",27478961.4410834,0],["2025-01-01",27478961.4410834,0],["2025-02-01",27478961.4410834,0],["2025-03-01",27478961.4410834,0],["2025-03-28",27478961.4410834,0]],"USD":[["2013-06-01",14304651.9968758,1],["2013-09-01",14672644.8911285,1],["2013-12-01",14933186.9844705,1],["2014-03-01",15020096.5827943,1],["2014-06-01",15076286.5601113,1],["2014-09-01",15307309.179502,1],["2014-12-01",15706487.0727,1],["2015-03-01",15883227.0270061,1],["2015-06-01",15822342.8931501,1],["2015-09-01",15963412.5709431,1],["2015-12-01",16200148.206841,1],["2016-03-01",16469968.2604812,1],["2016-06-01",16444834.7659689,1],["2016-09-01",16614661.4753922,1],["2016-12-01",16823761.8569604,1],["2017-03-01",17270027.1500034,1],["2017-06-01",17173579.6019882,1],["2017-09-01",17446559.0069234,1],["2017-12-01",17631631.156299,1],["2018-03-01",17822397.0599304,1],["2018-06-01",17799419.7615534,1],["2018-09-01",17893224.8426843,1],["2018-12-01",18342259.9489118,1],["2019-03-01",18606548.6432694,1],["2019-06-01",18909549.0778725,1],["2019-09-01",19315207.0378833,1],["2019-12-01",19881523.881838,1],["2020-03-01",21721667.7267656,1],["2020-06-01",22846385.8700857,1],["2020-09-01",22844767.9571306,1],["2020-12-01",23301047.8440034,1],["2021-03-01",25399439.264,1],["2021-06-01",25721652.9944058,1],["2021-09-01",26602658.0208307,1],["2021-12-01",27228831.6998114,1],["2022-03-01",27224733.910236,1],["2022-06-01",26838455.8049852,1],["2022-09-01",26785755.7650569,1],["2022-12-01",26999346.4037784,1],["2023-03-01",27259706.3170672,1],["2023-06-01",27239455.5303776,1],["2023-09-01",27197032.6383584,1],["2023-12-01",27478961.4410834,1],["2024-01-01",27478961.4410834,0],["2024-02-01",27478961.4410834,0],["2024-03-01",27478961.4410834,0],["2024-04-01",27478961.4410834,0],["2024-05-01",27478961.4410834,0],["2024-06-01",27478961.4410834,0],["2024-07-01",27478961.4410834,0],["2024-08-01",27478961.4410834,0],["2024-09-01",27478961.4410834,0],["2024-10-01",27478961.4410834,0],["2024-11-01",27478961.4410834,0],["2024-12-01",27478961.4410834,0],["2025-01-01",27478961.4410834,0],["2025-02-01",27478961.4410834,0],["2025-03-01",27478961.4410834,0],["2025-03-28",27478961.4410834,0]],"^IXIC":[["2013-06-01",4133.384561920132,1],["2013-09-01",4050.2631578670153,1],["2013-12-01",3673.004458634799,1],["2014-03-01",3524.6694430868347,1],["2014-06-01",3549.0651274368533,1],["2014-09-01",3333.168447116288,1],["2014-12-01",3287.437158840654,1],["2015-03-01",3193.6161694501097,1],["2015-06-01",3105.501355288398,1],["2015-09-01",3415.6493669618158,1],["2015-12-01",3158.1451671195914,1],["2016-03-01",3583.5363936050057,1],["2016-06-01",3336.3631852440008,1],["2016-09-01",3183.9345837020333,1],["2016-12-01",3160.056617970265,1],["2017-03-01",2939.6492089868634,1],["2017-06-01",2762.842314366535,1],["2017-09-01",2708.1805072669617,1],["2017-12-01",2576.2022220305694,1],["2018-03-01",2449.8982177986045,1],["2018-06-01",2377.1671510353076,1],["2018-09-01",2212.3312348108425,1],["2018-12-01",2450.165871557215,1],["2019-03-01",2452.279509493777,1],["2019-06-01",2541.1927868099197,1],["2019-09-01",2442.9714487210626,1],["2019-12-01",2292.389141275961,1],["2020-03-01",2506.209500233627,1],["2020-06-01",2412.139474179595,1],["2020-09-01",1927.6723600814028,1],["2020-12-01",1892.3386613181203,1],["2021-03-01",1894.60956515268,1],["2021-06-01",1859.9712340254644,1],["2021-09-01",1737.7158508454772,1],["2021-12-01",1728.5656295934832,1],["2022-03-01",1984.7874140706008,1],["2022-06-01",2204.0485361899478,1],["2022-09-01",2287.9258644044944,1],["2022-12-01",2352.8493771852404,1],["2023-03-01",2381.263649699847,1],["2023-06-01",2104.333097910466,1],["2023-09-01",1924.7777568758179,1],["2023-12-01",1937.6830977298255,1],["2024-01-01",1847.4865756500521,0],["2024-02-01",1801.4242990045275,0],["2024-03-01",1705.7263365177369,0],["2024-04-01",1675.8477977335747,0],["2024-05-01",1756.2829892645777,0],["2024-06-01",1629.2808904438652,0],["2024-07-01",1546.0287746170459,0],["2024-08-01",1557.1437537053037,0],["2024-09-01",1562.5965023278857,0],["2024-10-01",1513.580450765616,0],["2024-11-01",1510.690494060975,0],["2024-12-01",1427.0759929559947,0],["2025-01-01",1416.15659160773,0],["2025-02-01",1430.0503144946347,0],["2025-03-01",1452.1185639684234,0],["2025-03-28",1543.4121655232725,0]],"^GSPC":[["2013-06-01",8766.663401783153,1],["2013-09-01",8968.883724479523,1],["2013-12-01",8266.135219534814,1],["2014-03-01",8085.405531910549,1],["2014-06-01",7836.437284418986,1],["2014-09-01",7638.111238505699,1],["2014-12-01",7603.174999250033,1],["2015-03-01",7544.6517360870685,1],["2015-06-01",7503.57751877915,1],["2015-09-01",8102.885070173028,1],["2015-12-01",7777.577133418459,1],["2016-03-01",8502.428153101579,1],["2016-06-01",7853.536981067788,1],["2016-09-01",7651.835915126912,1],["2016-12-01",7646.573880358784,1],["2017-03-01",7255.917954190017,1],["2017-06-01",7109.299897028033,1],["2017-09-01",7050.7672738518895,1],["2017-12-01",6665.770861345436,1],["2018-03-01",6563.886997087447,1],["2018-06-01",6547.033538541498,1],["2018-09-01",6176.5523458922025,1],["2018-12-01",6573.108743562731,1],["2019-03-01",6649.423146885062,1],["2019-06-01",6872.376051336296,1],["2019-09-01",6639.787066060835,1],["2019-12-01",6323.941429860075,1],["2020-03-01",7303.168334119716,1],["2020-06-01",7518.275640166027,1],["2020-09-01",6513.231399187228,1],["2020-12-01",6391.080070065226,1],["2021-03-01",6610.11661633882,1],["2021-06-01",6100.208910490426,1],["2021-09-01",5874.1077477736635,1],["2021-12-01",5915.684893104202,1],["2022-03-01",6239.711092733788,1],["2022-06-01",6467.440971442937,1],["2022-09-01",6804.062228791088,1],["2022-12-01",6605.926665932518,1],["2023-03-01",6877.962958655764,1],["2023-06-01",6511.8961445215045,1],["2023-09-01",6002.964740240007,1],["2023-12-01",6026.84115814427,1],["2024-01-01",5790.896128729874,0],["2024-02-01",5652.8163760806465,0],["2024-03-01",5389.60651332888,0],["2024-04-01",5226.153880352475,0],["2024-05-01",5464.068143360507,0],["2024-06-01",5187.499305791818,0],["2024-07-01",5022.584398088494,0],["2024-08-01",4962.036139794856,0],["2024-09-01",4886.112774798257,0],["2024-10-01",4772.533886496406,0],["2024-11-01",4801.311221576611,0],["2024-12-01",4549.414176740758,0],["2025-01-01",4654.879258591139,0],["2025-02-01",4603.111051838209,0],["2025-03-01",4604.128974333829,0],["2025-03-28",4826.535206809151,0]],"XAU":[["2013-06-01",10242.130829763073,1],["2013-09-01",10560.92961328756,1],["2013-12-01",11930.421745633172,1],["2014-03-01",11324.55201956359,1],["2014-06-01",12074.899431724341,1],["2014-09-01",11895.463036482799,1],["2014-12-01",12958.637159331134,1],["2015-03-01",13090.002722036808,1],["2015-06-01",13305.324585707782,1],["2015-09-01",14023.857943573514,1],["2015-12-01",15187.638943913436,1],["2016-03-01",13357.144259250252,1],["2016-06-01",13517.654177626437,1],["2016-09-01",12610.029619978417,1],["2016-12-01",14320.386092644692,1],["2017-03-01",13846.071567243725,1],["2017-06-01",13577.260297535851,1],["2017-09-01",13167.441479295298,1],["2017-12-01",13768.540769953886,1],["2018-03-01",13531.298519810956,1],["2018-06-01",13765.181272597321,1],["2018-09-01",14897.18327502524,1],["2018-12-01",15005.986286804235,1],["2019-03-01",14382.862101247247,1],["2019-06-01",14484.525498159557,1],["2019-09-01",12630.600186212649,1],["2019-12-01",13599.16115041601,1],["2020-03-01",13693.339334953034,1],["2020-06-01",13115.8816641575,1],["2020-09-01",11581.15511586736,1],["2020-12-01",12864.275504195837,1],["2021-03-01",14727.8648572304,1],["2021-06-01",13545.536899913981,1],["2021-09-01",14671.099871907922,1],["2021-12-01",15280.820349934156,1],["2022-03-01",14015.8375116677,1],["2022-06-01",14537.854740444383,1],["2022-09-01",15779.488721195019,1],["2022-12-01",14980.04736520837,1],["2023-03-01",14841.001910200896,1],["2023-06-01",13778.2613963756,1],["2023-09-01",14018.16653278907,1],["2023-12-01",13261.34679146685,1],["2024-01-01",13315.205555891373,0],["2024-02-01",13373.186164532059,0],["2024-03-01",13194.847704779428,0],["2024-04-01",12217.970625548913,0],["2024-05-01",11840.959274577248,0],["2024-06-01",11806.885362390305,0],["2024-07-01",11782.15429709333,0],["2024-08-01",11234.223805958127,0],["2024-09-01",10977.295516483997,0],["2024-10-01",10328.242447245608,0],["2024-11-01",10041.91166902952,0],["2024-12-01",10384.84910781424,0],["2025-01-01",10471.957415582474,0],["2025-02-01",9819.332081356742,0],["2025-03-01",9614.888608235082,0],["2025-03-28",8932.03641642416,0]],"XAG":[["2013-06-01",628889.7203906478,1],["2013-09-01",629400.4163259285,1],["2013-12-01",747241.8928477892,1],["2014-03-01",707969.9994155219,1],["2014-06-01",804975.2541587058,1],["2014-09-01",787628.7155919513,1],["2014-12-01",1013940.7544811676,1],["2015-03-01",958886.6165119258,1],["2015-06-01",946860.8960107915,1],["2015-09-01",1092312.4685793526,1],["2015-12-01",1147043.3937112736,1],["2016-03-01",1114646.2769487165,1],["2016-06-01",1031576.262451846,1],["2016-09-01",883549.0888405048,1],["2016-12-01",1016930.6233443955,1],["2017-03-01",939125.0793873199,1],["2017-06-01",997188.5364559374,1],["2017-09-01",984292.9874290016,1],["2017-12-01",1071766.5578128616,1],["2018-03-01",1082147.2554197074,1],["2018-06-01",1085141.9817514983,1],["2018-09-01",1230876.9051829856,1],["2018-12-01",1293758.8327597287,1],["2019-03-01",1223270.0503960222,1],["2019-06-01",1296951.3226544398,1],["2019-09-01",1045773.5970485966,1],["2019-12-01",1170913.4023351022,1],["2020-03-01",1301909.4424380683,1],["2020-06-01",1247006.9166936264,1],["2020-09-01",807378.6469025117,1],["2020-12-01",977598.9574523392,1],["2021-03-01",958000.0485128156,1],["2021-06-01",923580.4492238205,1],["2021-09-01",1101263.5834238234,1],["2021-12-01",1216635.662839486,1],["2022-03-01",1073086.3003431146,1],["2022-06-01",1231435.308929529,1],["2022-09-01",1502188.844086288,1],["2022-12-01",1189032.046086454,1],["2023-03-01",1299442.6678312132,1],["2023-06-01",1140611.6135458217,1],["2023-09-01",1124634.5595308342,1],["2023-12-01",1078791.051423205,1],["2024-01-01",1153705.844841573,0],["2024-02-01",1186919.3907457963,0],["2024-03-01",1187791.5729819362,0],["2024-04-01",1095183.0762916545,0],["2024-05-01",1031310.703528386,0],["2024-06-01",903660.4856292058,0],["2024-07-01",932580.9933874885,0],["2024-08-01",964072.7075678133,0],["2024-09-01",952080.8887949245,0],["2024-10-01",876030.115110582,0],["2024-11-01",846535.5718477952,0],["2024-12-01",901660.5668155239,0],["2025-01-01",947867.5396371632,0],["2025-02-01",877644.5040952457,0],["2025-03-01",882093.0731629427,0],["2025-03-28",798505.36993454,0]]};</script>

<script>
  /**
   * CACHE
   */

  const thingTimePriceByCountryCache = {};

  function addThingTimePriceToCache(countryCode, data) {
    const processedData = {};
    for (let currCode in data) {
      data[currCode].sort((v1,v2) => v1[0] > v2[0] ? 1 : -1);
      for (let i = 0; i<data[currCode].length; i++) {
        const arrYYYYMMDD = data[currCode][i][0].split("-");
        const y = arrYYYYMMDD[0]*1;
        const m = arrYYYYMMDD[1]*1;
        const d = arrYYYYMMDD[2]*1;
        const timestamp = Date.UTC(y,m-1,d,0,0,0);
        data[currCode][i].push(y, m, d, timestamp);
      }
    }
    thingTimePriceByCountryCache[countryCode] = data;
  }

  function getThingTimePriceByCountry(countryCode, cb) {
    if (thingTimePriceByCountryCache[countryCode]) {
      return cb(thingTimePriceByCountryCache[countryCode]);
    }

    $.get('data/BM/' + countryCode + '.json', function (data) {
      addThingTimePriceToCache(countryCode, data);
      return cb(thingTimePriceByCountryCache[countryCode]);
    }, "json");
  }

  if (preloadedData) {
    for (let countryCode in preloadedData) {
      addThingTimePriceToCache(countryCode, preloadedData[countryCode]);
    }
    delete preloadedData;
  }


  /**
   * INIT CHART
   */
  const ctx = document.getElementById('chart').getContext('2d');
  const chart = new Chart(ctx, {
    type: 'line',
    plugins: [{
      afterLayout: function (chart) {
        var ctx = chart.chart.ctx;
        var xAxis = chart.scales['x-axis-0'];
        var gradientStroke = ctx.createLinearGradient(xAxis.left, 0, xAxis.right, 0);
        var dataset = chart.data.datasets[0];
        if (dataset) {
          dataset.colors.forEach((c, i) => {
            var stop = i / (dataset.colors.length - 1);
            gradientStroke.addColorStop(stop, dataset.colors[i]);
          });
          dataset.backgroundColor = gradientStroke;
          dataset.borderColor = gradientStroke;
        }
      }
    }],
    data: {
      // added dynamically
    },
    options: {
      animation: false,
      elements: {
        point: {
          radius: 0
        },
        line: {
          tension: 0.15
        }
      },
      legend: {
        display: false
      },
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        xAxes: [
          {
            position: "bottom",
            ticks: {
              fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
              labelOffset: 18,
              maxTicksLimit:12,
              padding:14
            }
          }
        ],
        yAxes: [
          {
            stacked:false,
            position:'left',
            gridLines:{
              display:true
            },
            ticks: {
              autoSkip: true,
              callback: function(t) {
                  return "⌚×" + toFormattedNum(t);
              },
              fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
              fontSize: 12,
              maxRotation: 0,
              maxTicksLimit: 12,
              padding: 14
            }
          }
        ]
      },
      tooltips: {
        mode:'x-axis',
        intersect:false,
        callbacks: {
          label: function(tooltipItem, _data) {
            return '⌚×' + toFormattedNum(tooltipItem.yLabel);
          }
        }
      }
    }
  });

	$(function () {
		$('.sel-version').on('change', function() {
      var url = $('.sel-version').val();
      if (url) {
        document.location.href=url;
      }
    });
		$('.sel-country').on('change', function() {
      updateScreen();
    });
		$('.sel-year').on('change', function() {
      updateScreen();
    });
		$('.sel-curr').on('change', function() {
      updateScreen();
    });

		updateScreen();
	});

  /**
   * FUNCTIONS
   */
  function timestampToYYYYMMDD(ts) {
    return new Date(ts).toISOString().slice(0,10);
  }

  function toFormattedNum(val) {
    return (val*1).toFixed(2);
  }

  function updateScreen() {
    const selCountry=$('.sel-country').val();

    getThingTimePriceByCountry(selCountry, function (thingTimePriceCountryData) {
      const selCurr=$('.sel-curr').val();
      const thingTimePrice = thingTimePriceCountryData[selCurr];

      if (selCurr==='BTC') {
        $('.sel-curr').addClass('bitcoin-color');
      } else {
        $('.sel-curr').removeClass('bitcoin-color');
      }

      const data = {
        labels: [],
        datasets: []
      };

      const dataset = {
        fill: false,
        colors: []
      };

      if (thingTimePrice && thingTimePrice.length > 0) {
        const minYear = thingTimePrice[0][3];

        if ($('.sel-year').val()*1 < minYear) {
          $('.sel-year').val(minYear);
        }
        $('.sel-year option').each(function () {
          $(this).prop("disabled", $(this).val()*1 < minYear);
        });

        const selYear=$('.sel-year').val()*1;

        const fromTimestamp = Date.UTC(selYear*1,0,1,0,0,0);

        let curThingTimePriceIdx = 0;

        // skip items earlier than picked year
        while((curThingTimePriceIdx < thingTimePrice.length) && (thingTimePrice[curThingTimePriceIdx][6])<fromTimestamp) {
          curThingTimePriceIdx++;
        }

        if (curThingTimePriceIdx < thingTimePrice.length) {
          const lockedValueInCurr = thingTimePrice[curThingTimePriceIdx][1];

          const datasetData = [];
          for (; curThingTimePriceIdx < thingTimePrice.length; curThingTimePriceIdx++) {
            data.labels.push(thingTimePrice[curThingTimePriceIdx][0]);
            const curThingTimePrice = thingTimePrice[curThingTimePriceIdx][1];
            const dataVal = curThingTimePrice !== null ? lockedValueInCurr / curThingTimePrice : null;
            datasetData.push(dataVal);
            if (thingTimePrice[curThingTimePriceIdx][2] === 1) {
              dataset.colors.push("#5c9e31");
            } else {
              dataset.colors.push("#acbccc");
            }
          }
          dataset.data = datasetData;
        }
      }

      if (dataset.data !== undefined) {
        data.datasets.push(dataset);
        const lastVal = dataset.data[dataset.data.length-1];
        if (lastVal) {
          $('.thing-now-qty').text(toFormattedNum(lastVal));
        } else {
          $('.thing-now-qty').text('?');
        }
      } else {
        $('.thing-now-qty').text('?');
      }

      chart.data = data;
      chart.update();
    });
  }
</script>

<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "112021bf534e4ac4a9b0a058c1815dca"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>